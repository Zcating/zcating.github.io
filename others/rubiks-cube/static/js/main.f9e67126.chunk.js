(window["webpackJsonprubiks-cube"]=window["webpackJsonprubiks-cube"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(5),a=n(3),r=n(7),s=n(6),c=n(2),u=n(8),h=n(0),l=Math.PI/2,f=function(){function e(t){var n=this;Object(a.a)(this,e),this.scene=void 0,this.engine=void 0,this.camera=void 0,this.light1=void 0,this.light2=void 0,this.cubes=[],this._multiMaterial=void 0,this._didFinish=!0,this._operationQueue=[],this._isRunning=!1,this.resizeFn=function(){n.engine.resize()};var i=document.createElement("canvas");i.style.position="absolute",i.style.height="100%",i.style.width="100%",t.appendChild(i),this.engine=new h.Engine(i,!0,{},!0),this.scene=new h.Scene(this.engine),this.scene.useRightHandedSystem=!0,this.camera=new h.ArcRotateCamera("camera",0,0,10,h.Vector3.Zero(),this.scene),this.camera.position=new h.Vector3(4,4,4),this.camera.lowerRadiusLimit=4,this.camera.upperRadiusLimit=20,this.camera.useBouncingBehavior=!1,this.camera.attachControl(i),this.camera.minZ=.001,this.camera.wheelDeltaPercentage=.01,this.camera.pinchDeltaPercentage=.01,this.camera.wheelPrecision=500,this.camera.pinchPrecision=500,this._generateRubiksCube(),this.light1=new h.HemisphericLight("light",new h.Vector3(0,0,1),this.scene),this.light2=new h.HemisphericLight("light",new h.Vector3(0,0,-1),this.scene),this.engine.runRenderLoop((function(){n.scene.render()})),window.addEventListener("resize",this.resizeFn)}return Object(c.a)(e,[{key:"multiMaterial",get:function(){if(!this._multiMaterial){this._multiMaterial=new h.MultiMaterial("multi",this.scene),this._multiMaterial.subMaterials.push(new h.StandardMaterial("orange",this.scene),new h.StandardMaterial("red",this.scene),new h.StandardMaterial("yellow",this.scene),new h.StandardMaterial("white",this.scene),new h.StandardMaterial("green",this.scene),new h.StandardMaterial("blue",this.scene));var e=this._multiMaterial.subMaterials;e[0].diffuseTexture=this.colorTexture(1545477),e[1].diffuseTexture=this.colorTexture(1708543),e[2].diffuseTexture=this.colorTexture(16212226),e[3].diffuseTexture=this.colorTexture(9570050),e[4].diffuseTexture=this.colorTexture(16776197),e[5].diffuseTexture=this.colorTexture(16777215)}return this._multiMaterial}}]),Object(c.a)(e,[{key:"destroy",value:function(){window.removeEventListener("resize",this.resizeFn),this.engine.dispose(),this.scene.dispose()}},{key:"reset",value:function(){this._isRunning||(this.cubes.forEach((function(e){e.dispose()})),this.cubes=[],this._generateRubiksCube())}},{key:"rotateFront",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=t?-1:1;this._rotate((function(e){return e.position.z>.2}),(function(t,i){e._rotateAroundAxisZ(t,n*i*l)}))}},{key:"rotateBack",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t?1:-1;this._rotate((function(e){return e.position.z<-.2}),(function(t,o){e._rotateAroundAxisZ(t,i*o*l*n)}))}},{key:"rotateUp",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=t?1:-1;this._rotate((function(e){return e.position.y>.2}),(function(t,i){e._rotateAroundAxisY(t,n*i*l)}))}},{key:"rotateDown",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=t?-1:1;this._rotate((function(e){return e.position.y<-.2}),(function(t,i){e._rotateAroundAxisY(t,n*i*l)}))}},{key:"rotateLeft",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=t?1:-1;this._rotate((function(e){return e.position.x<-.2}),(function(t,i){e._rotateAroundAxisX(t,n*i*l)}))}},{key:"rotateRight",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=t?-1:1;this._rotate((function(e){return e.position.x>.2}),(function(t,i){e._rotateAroundAxisX(t,n*i*l)}))}},{key:"startAOperationQueue",value:function(e){this._isRunning||(this._operationQueue=e,this.doingOperation())}},{key:"operate",value:function(e){null!==e&&(this._operationQueue.push(e),this.doingOperation())}},{key:"doingOperation",value:function(){var e=this;if(!this._isRunning){this._isRunning=!0;var t=setInterval((function(){var n=e._operationQueue[0];if(void 0===n)return clearInterval(t),void(e._isRunning=!1);switch(n){case"R":e.rotateRight(!0);break;case"R2":e.rotateRight(!0,2);break;case"R'":e.rotateRight(!1);break;case"R'2":e.rotateRight(!1,2);break;case"L":e.rotateLeft(!0);break;case"L2":e.rotateLeft(!0,2);break;case"L'":e.rotateLeft(!1);break;case"L'2":e.rotateLeft(!1,2);break;case"U":case"U2":e.rotateUp(!0);break;case"U'":e.rotateUp(!1);break;case"U'2":e.rotateUp(!1,2);break;case"F":e.rotateFront(!0);break;case"F2":e.rotateFront(!0,2);break;case"F'":e.rotateFront(!1);break;case"F'2":e.rotateFront(!1,2);break;case"D":e.rotateDown(!0);break;case"D2":e.rotateDown(!0,2);break;case"D'":e.rotateDown(!1);break;case"D'2":e.rotateDown(!1,2);break;case"B":e.rotateBack(!0);break;case"B2":e.rotateBack(!0,2);break;case"B'":e.rotateBack(!1);break;case"B'2":e.rotateBack(!1,2)}e._operationQueue.splice(0,1)}),800)}}},{key:"_generateRubiksCube",value:function(){for(var e=-1;e<=1;e++)for(var t=-1;t<=1;t++)for(var n=-1;n<=1;n++)if(0!==e||0!==t||0!==n){var i=e+3+t+3+n+3,o=h.Mesh.CreateBox("cube".concat(i),1,this.scene);o.material=this.multiMaterial,o.subMeshes=[];var a=o.getTotalVertices();o.subMeshes.push(new h.SubMesh(0,0,a,0,6,o)),o.subMeshes.push(new h.SubMesh(1,1,a,6,6,o)),o.subMeshes.push(new h.SubMesh(2,2,a,12,6,o)),o.subMeshes.push(new h.SubMesh(3,3,a,18,6,o)),o.subMeshes.push(new h.SubMesh(4,4,a,24,6,o)),o.subMeshes.push(new h.SubMesh(5,5,a,30,6,o)),o.position.set(e,t,n),this.cubes.push(o)}}},{key:"colorTexture",value:function(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");if(null!=n){n.fillStyle="#000000",n.fillRect(0,0,256,256),n.rect(20,20,216,216),n.lineJoin="round",n.lineWidth=10;var i="#"+e.toString(16);n.fillStyle=i,n.strokeStyle=i,n.stroke(),n.fill()}return new h.Texture(t.toDataURL(),this.scene)}},{key:"_rotate",value:function(e,t){if(this._didFinish){this._didFinish=!1;var n=this.cubes.filter(e);this._animate(500,(function(e){var i=!0,o=!1,a=void 0;try{for(var r,s=n[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var c=r.value;t(c,e)}}catch(u){o=!0,a=u}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}))}}},{key:"_animate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=arguments.length>1?arguments[1]:void 0;requestAnimationFrame((function(i){e._animationCore(t,i,i,i,n)}))}},{key:"_animationCore",value:function(e,t,n,i,o){var a=this;o(((i-t>=e?t+e:i)-n)/e);var r=requestAnimationFrame((function(n){a._animationCore(e,t,i,n,o)}));i-t>=e&&(cancelAnimationFrame(r),this._didFinish=!0)}}],[{key:"_rotateAroundAxisX",value:function(e,t){var n=e.position.y,i=e.position.z;e.rotate(h.Axis.X,t,h.Space.WORLD),e.position.y=Math.cos(t)*n-Math.sin(t)*i,e.position.z=Math.cos(t)*i+Math.sin(t)*n}},{key:"_rotateAroundAxisY",value:function(e,t){var n=e.position.x,i=e.position.z;e.rotate(h.Axis.Y,-t,h.Space.WORLD),e.position.x=Math.cos(t)*n-Math.sin(t)*i,e.position.z=Math.cos(t)*i+Math.sin(t)*n}},{key:"_rotateAroundAxisZ",value:function(e,t){var n=e.position.x,i=e.position.y;e.rotate(h.Axis.Z,t,h.Space.WORLD),e.position.x=Math.cos(t)*n-Math.sin(t)*i,e.position.y=Math.cos(t)*i+Math.sin(t)*n}}]),e}(),v=(n(15),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).viewer=void 0,n.allOperations=["L","L'","L2","L'2","R","R'","R2","R'2","U","U'","U2","U'2","D","D'","D2","D'2","F","F'","F2","F'2","B","B'","B2","B'2"],n.disrupt=function(){for(var e="",t=[],i="",o=0;o<25;o++){var a=n.allOperations.findIndex((function(e){return e===i})),r=0;if(-1===a)r=Math.floor(100*Math.random())%24;else if(a<4)for(;r<4;)r=Math.floor(100*Math.random())%24;else if(a<8)for(;r>3&&r<8;)r=Math.floor(100*Math.random())%24;else if(a<12)for(;r>7&&r<12;)r=Math.floor(100*Math.random())%24;else if(a<16)for(;r>11&&r<16;)r=Math.floor(100*Math.random())%24;else if(a<20)for(;r>15&&r<20;)r=Math.floor(100*Math.random())%24;else if(a<24)for(;r>19&&r<24;)r=Math.floor(100*Math.random())%24;var s=n.allOperations[r];t.push(n.allOperations[r]),e+=s+" ",i=s}n.setState({steps:e}),n.viewer.startAOperationQueue(t)},n.reset=function(e){n.viewer.reset()},n.rotateFront=function(e){var t=e.target.textContent;n.viewer.operate(t)},n.rotateUp=function(e){var t=e.target.textContent;n.viewer.operate(t)},n.rotateLeft=function(e){var t=e.target.textContent;n.viewer.operate(t)},n.rotateRight=function(e){var t=e.target.textContent;n.viewer.operate(t)},n.rotateDown=function(e){var t=e.target.textContent;n.viewer.operate(t)},n.rotateBack=function(e){var t=e.target.textContent;n.viewer.operate(t)},n.state={steps:""},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"cameraWheel",get:function(){return this.viewer&&this.viewer.camera?this.viewer.camera.wheelPrecision:0},set:function(e){this.viewer&&this.viewer.camera&&(this.viewer.camera.wheelPrecision=e)}}]),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.viewer=new f(document.getElementById("cube-container"))}},{key:"componentWillUnmount",value:function(){this.viewer.destroy()}},{key:"render",value:function(){var e=this.state.steps?i.createElement("div",{id:"steps-content"},this.state.steps):null;return i.createElement("div",{className:"App"},i.createElement("div",{id:"cube-container",className:"cube-container"}),e,i.createElement("footer",{className:"cube-buttons"},i.createElement("button",{onClick:this.disrupt},"25 STEP DISRUPT"),i.createElement("button",{onClick:this.rotateFront},"F"),i.createElement("button",{onClick:this.rotateUp},"U"),i.createElement("button",{onClick:this.rotateLeft},"L"),i.createElement("button",{onClick:this.rotateRight},"R"),i.createElement("button",{onClick:this.rotateDown},"D"),i.createElement("button",{onClick:this.rotateBack},"B"),i.createElement("button",{onClick:this.rotateFront},"F'"),i.createElement("button",{onClick:this.rotateUp},"U'"),i.createElement("button",{onClick:this.rotateLeft},"L'"),i.createElement("button",{onClick:this.rotateRight},"R'"),i.createElement("button",{onClick:this.rotateDown},"D'"),i.createElement("button",{onClick:this.rotateBack},"B'"),i.createElement("button",{onClick:this.reset},"reset")))}}]),t}(i.Component)),d=(n(16),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function p(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.render(i.createElement(v,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");d?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):p(e)}))}}()},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.f9e67126.chunk.js.map